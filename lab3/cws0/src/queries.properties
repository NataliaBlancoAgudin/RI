# TINVOICES
TINVOICES_SELECT_LAST_NUMBER = SELECT MAX(number) FROM TInvoices
TINVOICES_INSERT = INSERT INTO TInvoices \
                   (id, number, date, vat, amount, state, version, \
                   createdAt, updatedAt, entityState) \
                   VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

# TMECHANICS
TMECHANICS_ADD = insert into TMechanics(id, nif, name, surname, version, createdAt, updatedAt, entityState) \
					values (?, ?, ?, ?, ?, ?, ?, ?)
TMECHANICS_DELETE = delete from TMechanics where id = ?
TMECHANICS_FINDBYNIF = select id, nif, name, surname, version from TMechanics \
                       where nif = ?
TMECHANICS_FINDALL = select id, nif, name, surname, version from TMechanics
TMECHANICS_UPDATE = update TMechanics \
                    set name = ?, surname = ?, version = version+1, \
                    updatedat = ? where id = ?
TMECHANICS_FINDBYID = select * from TMechanics where id = ?

# TWORKORDERS
TWORKORDERS_FIND_NOT_INVOICED = select a.id, a.description, a.date, a.state, a.amount \
								from TWorkOrders as a, TVehicles as v, TClients as c \
								where a.vehicle_id = v.id \
								and v.client_id = c.id \
								and a.state = 'FINISHED' \
								and c.nif = ?

TWORKORDERS_UPDATE_VERSION = update TWorkOrders set version=version+1 where id = ?
TWORKORDERS_FIND_ID_BY_ID = SELECT id, amount, state FROM TWorkOrders WHERE id = ?
TWORKORDERS_FIND_STATUS_BY_ID = SELECT state FROM TWorkOrders WHERE id = ?
TWORKORDERS_FIND_AMOUNT_BY_ID = SELECT amount FROM TWorkOrders WHERE id = ?
TWORKORDERS_UPDATE_INVOICEID = UPDATE TWorkOrders SET invoice_id = ? WHERE id = ?
TWORKORDERS_UPDATE_STATE = UPDATE TWorkOrders SET state = 'INVOICED' WHERE id = ?
TWORKORDERS_UPDATE_TIMESTAMP = UPDATE TWorkOrders SET updatedat = ? WHERE id = ?

TWORKORDERS_UPDATE = UPDATE TWorkOrders \
					 SET version=version+1, invoice_id = ?, state = 'INVOICED', updatedat = ? \
					 WHERE id = ?

TWORKORDER_BY_MECHANIC_ID = SELECT id FROM TWorkorders WHERE mechanic_id = ?

# TINTERVENTIONS (mio)
TINTERFVENTION_BY_MECHANIC_ID = SELECT id FROM TInterventions WHERE mechanic_id = ?

# TCONTRACTS (mios)
TCONTRACT_BY_MECHANIC_ID = SELECT id FROM TContracts WHERE mechanic_id = ?
TCONTRACT_BY_PROFESSIONALGROUP_NAME = SELECT id FROM TContracts WHERE professionalgroup_id = ?
TCONTRACT_IN_MONTH = SELECT id FROM TContracts WHERE startDate <= ? AND (endDate IS NULL OR endDate >= ?)

# TPROFESSIONALGROUPS
TPROFESSIONALGROUPS_FIND_BY_NAME = SELECT id, name, productivityRate, trienniumPayment, version \
								   FROM TProfessionalGroups \
								   WHERE name = ?
TPROFESSIONALGROUPS_ADD = INSERT INTO TPROFESSIONALGROUPS(id, name, productivityRate, trienniumPayment, version, \
						  createdAt, updatedAt, entityState) \
						  VALUES (?,?,?,?,?,?,?,?)
TPROFESSIONALGROUPS_FINDALL = SELECT id, name, productivityRate, trienniumPayment, version \
							  FROM TProfessionalGroups
TPROFESSIONALGROUPS_DELETE = DELETE FROM TProfessionalGroups WHERE name = ?
TPROFESSIONALGROUPS_UPDATE = UPDATE TProfessionalGroups \
                    		 set productivityRate = ?, trienniumPayment = ?, version = version + 1, updatedAt = ?\
                    		 where name = ?
                    		 
# TPAYROLLS
TPAYROLLS_FIND_BY_DATE = SELECT id, baseSalary, createdAt, date, entityState, extraSalary, \
						 nicDeduction, productivityEarning, taxDeduction, trienniumEarning, \
						 updatedAt, version, contract_id \
						 FROM TPayrolls \
						 WHERE date = ?